<main>
  <div class="row justify-content-center">
    <div class="col-md-7">
      <div class="card rounded mt-5">
        <div class="card-body customer-form">
          <h3 class="fw-semi-bold">Register New Customer</h3>
          <form #registerForm="ngForm" class="row g-4 px-0 pb-0" (ngSubmit)="onSubmit(registerForm)" autocomplete="off">

            <div class="col-md-6">
              <label for="firstName" class="form-label">First Name</label>
              <input type="text" id="firstName" class="form-control" #firstName="ngModel"
                [(ngModel)]="customer.firstName" name="firstName" required pattern="^[a-zA-Z\s]+$">
              <span class="text-danger"
                *ngIf="firstName.errors?.['required'] && firstName.invalid && (firstName.dirty || firstName.touched)">
                First Name is required.
              </span>
              <span class="text-danger"
                *ngIf="firstName.errors?.['pattern'] && firstName.invalid && (firstName.dirty || firstName.touched)">
                No numbers and symbols.
              </span>
            </div>

            <div class="col-md-6">
              <label for="lastName" class="form-label">Last Name</label>
              <input type="text" id="lastName" class="form-control" #lastName="ngModel" [(ngModel)]="customer.lastName"
                name="lastName" required pattern="^[a-zA-Z\s]+$">
              <span class="text-danger"
                *ngIf="lastName.errors?.['required'] && lastName.invalid && (lastName.dirty || lastName.touched)">
                Last Name is required.
              </span>
              <span class="text-danger"
                *ngIf="lastName.errors?.['pattern'] && lastName.invalid && (lastName.dirty || lastName.touched)">
                No numbers and symbols.
              </span>
            </div>

            <div class="col-md-6">
              <label for="username" class="form-label">Username</label>
              <input type="text" id="username" class="form-control" #username="ngModel" [(ngModel)]="customer.username"
                name="username" required minlength="5" pattern="^[a-zA-Z\s]+$">
              <span class="text-danger"
                *ngIf="username.errors?.['required'] && username.invalid && (username.dirty || username.touched)">
                Username is required.
              </span>
              <span class="text-danger"
                *ngIf="username.errors?.['minlength'] && username.invalid && (username.dirty || username.touched)">
                Username must be at least 5 characters long.
              </span>
              <span class="text-danger"
                *ngIf="username.errors?.['pattern'] && !username.errors?.['minlength'] && username.invalid && (username.dirty || username.touched)">
                No numbers and symbols.
              </span>
            </div>

            <div class="col-md-6">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" class="form-control" #email="ngModel" [(ngModel)]="customer.email"
                name="email" required email>
              <span class="text-danger"
                *ngIf="email.errors?.['required'] && email.invalid && (email.dirty || email.touched)">
                Email is required.
              </span>
              <span class="text-danger"
                *ngIf="email.errors?.['email'] && email.invalid && (email.dirty || email.touched)">
                Enter a valid email address.
              </span>
            </div>

            <div class="col-12">
              <label for="phoneNumber" class="form-label">Phone Number</label>
              <input type="text" id="phoneNumber" class="form-control" #phoneNumber="ngModel"
                [(ngModel)]="customer.phoneNumber" name="phoneNumber" required pattern="^\d+$">
              <span class="text-danger"
                *ngIf="phoneNumber.errors?.['required'] && phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)">
                Phone Number is required.
              </span>
              <span class="text-danger"
                *ngIf="phoneNumber.errors?.['pattern'] && phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)">
                Phone Number must contain only numbers.
              </span>
            </div>

            <div class="col-12">
              <label for="streetAddress" class="form-label">Street Address</label>
              <input type="text" id="streetAddress" class="form-control" #streetAddress="ngModel"
                [(ngModel)]="customer.streetAddress" name="streetAddress" required>
              <span class="text-danger"
                *ngIf="streetAddress.errors?.['required'] && streetAddress.invalid && (streetAddress.dirty || streetAddress.touched)">
                Street Address is required.
              </span>
            </div>

            <div class="col-lg-5">
              <label for="city" class="form-label">City</label>
              <input type="text" id="city" class="form-control" #city="ngModel" [(ngModel)]="customer.city" name="city"
                required pattern="^[a-zA-Z\s]+$">
              <span class="text-danger"
                *ngIf="city.errors?.['required'] && city.invalid && (city.dirty || city.touched)">
                City is required.
              </span>
              <span class="text-danger"
                *ngIf="city.errors?.['pattern'] && city.invalid && (city.dirty || city.touched)">
                No numbers and symbols.
              </span>
            </div>

            <div class="col-lg-4">
              <label for="province" class="form-label">Province</label>
              <input type="text" id="province" class="form-control" #province="ngModel" [(ngModel)]="customer.province"
                name="province" required pattern="^[a-zA-Z\s]+$">
              <span class="text-danger"
                *ngIf="province.errors?.['required'] && province.invalid && (province.dirty || province.touched)">
                Province is required.
              </span>
              <span class="text-danger"
                *ngIf="province.errors?.['pattern'] && province.invalid && (province.dirty || province.touched)">
                No numbers and symbols.
              </span>
            </div>

            <div class="col-lg-3">
              <label for="postalCode" class="form-label">Postal Code</label>
              <input type="text" id="postalCode" class="form-control" #postalCode="ngModel"
                [(ngModel)]="customer.postalCode" name="postalCode" required pattern="^\d+$">
              <span class="text-danger"
                *ngIf="postalCode.errors?.['required'] && postalCode.invalid && (postalCode.dirty || postalCode.touched)">
                Postal Code is required.
              </span>
              <span class="text-danger"
                *ngIf="postalCode.errors?.['pattern'] && postalCode.invalid && (postalCode.dirty || postalCode.touched)">
                Postal Code must contain only numbers.
              </span>
            </div>

            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="currentAccount"
                  [(ngModel)]="customer.createCurrentAccount" name="createCurrentAccount">
                <label class="form-check-label" for="currentAccount">
                  Current Account
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="savingsAccount"
                  [(ngModel)]="customer.createSavingsAccount" name="createSavingsAccount">
                <label class="form-check-label" for="savingsAccount">
                  Savings Account
                </label>
              </div>
            </div>

            <div class="col-12">
              <button type="submit" class="btn btn-primary col-3" [disabled]="registerForm.invalid">Register</button>
              <button type="reset" (click)="goBack()" class="btn btn-outline-danger text-dark col-2">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>
